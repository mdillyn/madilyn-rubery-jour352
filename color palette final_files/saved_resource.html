<!DOCTYPE html>
<!-- saved from url=(0069)https://flo.uri.sh/template/75309/v7/?environment=story_player&auto=1 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="./canva-sans.css" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="./style(1).css">
	<title>Flourish template: Basic slide</title><link rel="stylesheet" id="layout-font" href="https://flo.uri.sh/template/75309/v7/?environment=story_player&amp;auto=1"></head>
	<body style="font-family: &quot;Canva Sans Variable&quot;;">
		<div id="wrapper"><div class="slide-container theme-text-overlay text-horizontal-left text-vertical-center" data-status="new" style="opacity: 0.6348; background-color: rgb(255, 255, 255); padding: 0px;">
	<div id="slide-media">
				<div id="slide-media-photo" class="size-cover" style="background-image: url(&#39;https://public.flourish.studio/uploads/2314013/ccef1250-c4b5-4e2b-9bc9-f3c1bf204860.webp&#39;); background-size: cover; background-position: center top;"></div>
	</div>
	<div id="slide-content" style="color: #333333; text-align: left;" class="align-v-center align-h-left invisible">
		<div id="slide-content-background" class="size-text" style="background-color:rgba(255,255,255,0);"></div>
		<div id="slide-content-foreground">
			<h1 data-content="title" class=" invisible"><span><p><br></p></span></h1>
			<h2 data-content="subtitle" class=" invisible"><span>Subtitle</span></h2>
			<div id="body-text" data-content="text" class=" invisible"><p><br></p><p><br></p><p><br></p><p><em style="color: rgb(114, 114, 114);">Taylor Glascock for The New York Times</em></p></div>
		</div>
	</div>
</div></div>
	

<script>window.Flourish = {"static_prefix":"static","environment":"live","is_read_only":true};</script><script>var template=function(t){"use strict";var e={bgcolor:"#000000",editable:("story_editor"===Flourish.environment||"sdk"===Flourish.environment)&&!Flourish.is_read_only,slide_layout:"text-top",slide_margin:"0px",height_mode:"auto",height_ratio:1.33,show_title:!0,show_subtitle:!0,show_text:!0,show_media:!0,title:"<strong>Title</strong>",subtitle:"Subtitle",text:"Text",show_logo_in_media:!1,logo_url:"",background_color:"#ffffff",text_background_color:"#ffffff",text_background_opacity:80,text_background_size:"full",text_color:"#333333",text_align:"left",text_position:"center-center",text_position_h:"center",text_position_v:"center",media_type:"image",photo_url:"https://storage.googleapis.com/coverr-public/poster/Mt_Baker.jpg",photo_size:"cover",photo_position:"center-center",photo_position_h:"center",photo_position_v:"center",video_url:"https://public.flourish.studio/uploads/9e8af696-efce-44c6-9590-cdc6cfb99003.mp4",video_size:"cover",video_autoplay:!0,video_controls:!1,layout:{body_font:{name:"",url:""}}};var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o={};
/*!
	 * mustache.js - Logic-less {{mustache}} templates with JavaScript
	 * http://github.com/janl/mustache.js
	 */!function(t){!function(e,n){t&&"string"!=typeof t.nodeName?n(t):(e.Mustache={},n(e.Mustache))}(n,(function(t){var e=Object.prototype.toString,n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(t){return"function"==typeof t}function o(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t,e){return null!=t&&"object"==typeof t&&e in t}var a=RegExp.prototype.test;var s=/\S/;function l(t){return!function(t,e){return a.call(t,e)}(s,t)}var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var c=/\s*/,h=/\s+/,p=/\s*=/,d=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function _(t){this.string=t,this.tail=t,this.pos=0}function g(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function m(){this.cache={}}_.prototype.eos=function(){return""===this.tail},_.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},_.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},g.prototype.push=function(t){return new g(t,this)},g.prototype.lookup=function(t){var e,n=this.cache;if(n.hasOwnProperty(t))e=n[t];else{for(var o,a,s=this,l=!1;s;){if(t.indexOf(".")>0)for(e=s.view,o=t.split("."),a=0;null!=e&&a<o.length;)a===o.length-1&&(l=r(e,o[a])),e=e[o[a++]];else e=s.view[t],l=r(s.view,t);if(l)break;s=s.parent}n[t]=e}return i(e)&&(e=e.call(this.view)),e},m.prototype.clearCache=function(){this.cache={}},m.prototype.parse=function(e,i){var r=this.cache,a=r[e];return null==a&&(a=r[e]=function(e,i){if(!e)return[];var r,a,s,u=[],g=[],m=[],y=!1,v=!1;function w(){if(y&&!v)for(;m.length;)delete g[m.pop()];else m=[];y=!1,v=!1}function b(t){if("string"==typeof t&&(t=t.split(h,2)),!n(t)||2!==t.length)throw new Error("Invalid tags: "+t);r=new RegExp(o(t[0])+"\\s*"),a=new RegExp("\\s*"+o(t[1])),s=new RegExp("\\s*"+o("}"+t[1]))}b(i||t.tags);for(var x,k,A,S,E,C,T=new _(e);!T.eos();){if(x=T.pos,A=T.scanUntil(r))for(var z=0,q=A.length;z<q;++z)l(S=A.charAt(z))?m.push(g.length):v=!0,g.push(["text",S,x,x+1]),x+=1,"\n"===S&&w();if(!T.scan(r))break;if(y=!0,k=T.scan(f)||"name",T.scan(c),"="===k?(A=T.scanUntil(p),T.scan(p),T.scanUntil(a)):"{"===k?(A=T.scanUntil(s),T.scan(d),T.scanUntil(a),k="&"):A=T.scanUntil(a),!T.scan(a))throw new Error("Unclosed tag at "+T.pos);if(E=[k,A,x,T.pos],g.push(E),"#"===k||"^"===k)u.push(E);else if("/"===k){if(!(C=u.pop()))throw new Error('Unopened section "'+A+'" at '+x);if(C[1]!==A)throw new Error('Unclosed section "'+C[1]+'" at '+x)}else"name"===k||"{"===k||"&"===k?v=!0:"="===k&&b(A)}if(C=u.pop())throw new Error('Unclosed section "'+C[1]+'" at '+T.pos);return function(t){for(var e,n=[],i=n,o=[],r=0,a=t.length;r<a;++r)switch((e=t[r])[0]){case"#":case"^":i.push(e),o.push(e),i=e[4]=[];break;case"/":o.pop()[5]=e[2],i=o.length>0?o[o.length-1][4]:n;break;default:i.push(e)}return n}(function(t){for(var e,n,i=[],o=0,r=t.length;o<r;++o)(e=t[o])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}(g))}(e,i)),a},m.prototype.render=function(t,e,n){var i=this.parse(t),o=e instanceof g?e:new g(e);return this.renderTokens(i,o,n,t)},m.prototype.renderTokens=function(t,e,n,i){for(var o,r,a,s="",l=0,u=t.length;l<u;++l)a=void 0,"#"===(r=(o=t[l])[0])?a=this.renderSection(o,e,n,i):"^"===r?a=this.renderInverted(o,e,n,i):">"===r?a=this.renderPartial(o,e,n,i):"&"===r?a=this.unescapedValue(o,e):"name"===r?a=this.escapedValue(o,e):"text"===r&&(a=this.rawValue(o)),void 0!==a&&(s+=a);return s},m.prototype.renderSection=function(t,e,o,r){var a=this,s="",l=e.lookup(t[1]);if(l){if(n(l))for(var u=0,c=l.length;u<c;++u)s+=this.renderTokens(t[4],e.push(l[u]),o,r);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(t[4],e.push(l),o,r);else if(i(l)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");l=l.call(e.view,r.slice(t[3],t[5]),(function(t){return a.render(t,e,o)})),null!=l&&(s+=l)}else s+=this.renderTokens(t[4],e,o,r);return s}},m.prototype.renderInverted=function(t,e,i,o){var r=e.lookup(t[1]);if(!r||n(r)&&0===r.length)return this.renderTokens(t[4],e,i,o)},m.prototype.renderPartial=function(t,e,n){if(n){var o=i(n)?n(t[1]):n[t[1]];return null!=o?this.renderTokens(this.parse(o),e,n,o):void 0}},m.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},m.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);if(null!=i)return t.escape(i)},m.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.3.2",t.tags=["{{","}}"];var y=new m;return t.clearCache=function(){return y.clearCache()},t.parse=function(t,e){return y.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+((n(o=t)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)'));var o;return y.render(t,e,i)},t.to_html=function(e,n,o,r){var a=t.render(e,n,o);if(!i(r))return a;r(a)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return u[t]}))},t.Scanner=_,t.Context=g,t.Writer=m,t}))}(o);var r=i(o);function a(){var t,n,i,o,a=this;this.props={hasText:e.show_title||e.show_subtitle||e.show_text,isPhoto:"image"==e.media_type,editable:e.editable,text_background:(t=e.text_background_color,n=e.text_background_opacity,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),o="",o+=parseInt(i[1],16)+",",o+=parseInt(i[2],16)+",",o+=parseInt(i[3],16)+",",o+=Number(n/100))},this.html=r.render('<div class="slide-container theme-{{state.slide_layout}} text-horizontal-{{state.text_position_h}} text-vertical-{{state.text_position_v}}" data-status="new" style="opacity:0; background-color: {{ state.background_color }}; padding: {{ state.slide_margin }}">\n\t<div id="slide-media">\n\t\t{{#state.show_media}}\n\t\t\t{{# props.isPhoto}}\n\t\t\t\t<div id="slide-media-photo" class="size-{{state.photo_size}}" style="background-image: url(\'{{state.photo_url}}\'); background-size: {{state.photo_size}}; background-position: {{state.photo_position_h}} {{state.photo_position_v}};"></div>\n\t\t\t{{/ props.isPhoto}}\n\t\t\t{{^ props.isPhoto}}\n\t\t\t\t<div class="slide-media-video size-{{state.video_size}}">\n\t\t\t\t\t<video src="{{state.video_url}}" playsinline loop{{#state.video_autoplay}} muted autoplay="true" {{/state.video_autoplay}}{{#state.video_controls}} controls {{/state.video_controls}}></video>\n\t\t\t\t</div> \n\t\t\t{{/ props.isPhoto}}\n\t\t\t{{#state.show_logo_in_media}}\n\t\t\t\t<img id="slide-media-logo" src="{{state.logo_url}}">\n\t\t\t{{/state.show_logo_in_media}}\n\t\t{{/state.show_media}}\n\t</div>\n\t<div id="slide-content" style="color: {{state.text_color}}; text-align: {{state.text_align}};" class="align-v-{{state.text_position_v}} align-h-{{state.text_position_h}} {{^props.hasText}}invisible{{/props.hasText}}">\n\t\t<div id="slide-content-background" class="size-{{state.text_background_size}}" style="background-color:rgba({{props.text_background}});"></div>\n\t\t<div id="slide-content-foreground">\n\t\t\t<h1 data-content="title" class="{{# props.editable}}no-edit editable{{/ props.editable}}{{^ props.editable}}{{/ props.editable}}{{^state.show_title}} invisible{{/state.show_title}}"><span>{{{state.title}}}</span></h1>\n\t\t\t<h2 data-content="subtitle" class="{{# props.editable}}no-edit editable{{/ props.editable}}{{^ props.editable}}{{/ props.editable}}{{^state.show_subtitle}} invisible{{/state.show_subtitle}}"><span>{{{state.subtitle}}}</span></h2>\n\t\t\t<div id="body-text" data-content="text" class="{{# props.editable}}no-edit editable{{/ props.editable}}{{^ props.editable}}{{/ props.editable}}{{^state.show_text}} invisible{{/state.show_text}}">{{{state.text}}}</div>\n\t\t</div>\n\t</div>\n</div>',{state:e,props:a.props}),this.stopMedia=function(){setTimeout((function(){a.el.querySelector(".video-container")&&(a.el.querySelector(".video-container").innerHTML="")}),500)},this.render=function(){var t=document.createElement("div");t.innerHTML=this.html;for(var e=t.querySelectorAll("a[href]"),n=0;n<e.length;n++)e[n].rel="nofollow";return this.el=t.firstChild,this.el}}var s="http://www.w3.org/1999/xhtml",l={svg:"http://www.w3.org/2000/svg",xhtml:s,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function u(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),l.hasOwnProperty(e)?{space:l[e],local:t}:t}function c(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===s&&e.documentElement.namespaceURI===s?e.createElement(t):e.createElementNS(n,t)}}function h(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function p(t){var e=u(t);return(e.local?h:c)(e)}function d(){}function f(t){return null==t?d:function(){return this.querySelector(t)}}function _(){return[]}function g(t){return new Array(t.length)}function m(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}m.prototype={constructor:m,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function y(t,e,n,i,o,r){for(var a,s=0,l=e.length,u=r.length;s<u;++s)(a=e[s])?(a.__data__=r[s],i[s]=a):n[s]=new m(t,r[s]);for(;s<l;++s)(a=e[s])&&(o[s]=a)}function v(t,e,n,i,o,r,a){var s,l,u,c={},h=e.length,p=r.length,d=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(d[s]=u="$"+a.call(l,l.__data__,s,e),u in c?o[s]=l:c[u]=l);for(s=0;s<p;++s)(l=c[u="$"+a.call(t,r[s],s,r)])?(i[s]=l,l.__data__=r[s],c[u]=null):n[s]=new m(t,r[s]);for(s=0;s<h;++s)(l=e[s])&&c[d[s]]===l&&(o[s]=l)}function w(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function b(t){return function(){this.removeAttribute(t)}}function x(t){return function(){this.removeAttributeNS(t.space,t.local)}}function k(t,e){return function(){this.setAttribute(t,e)}}function A(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function S(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function E(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function C(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function T(t){return function(){this.style.removeProperty(t)}}function z(t,e,n){return function(){this.style.setProperty(t,e,n)}}function q(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function B(t){return function(){delete this[t]}}function F(t,e){return function(){this[t]=e}}function N(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function P(t){return t.trim().split(/^|\s+/)}function R(t){return t.classList||new L(t)}function L(t){this._node=t,this._names=P(t.getAttribute("class")||"")}function U(t,e){for(var n=R(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function I(t,e){for(var n=R(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function M(t){return function(){U(this,t)}}function O(t){return function(){I(this,t)}}function H(t,e){return function(){(e.apply(this,arguments)?U:I)(this,t)}}function V(){this.textContent=""}function j(t){return function(){this.textContent=t}}function D(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function W(){this.innerHTML=""}function $(t){return function(){this.innerHTML=t}}function Q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function X(){this.nextSibling&&this.parentNode.appendChild(this)}function G(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function J(){return null}function K(){var t=this.parentNode;t&&t.removeChild(this)}function Y(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Z(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}L.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var tt={},et=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(tt={mouseenter:"mouseover",mouseleave:"mouseout"}));function nt(t,e,n){return t=it(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function it(t,e,n){return function(i){var o=et;et=i;try{t.call(this,this.__data__,e,n)}finally{et=o}}}function ot(t){return function(){var e=this.__on;if(e){for(var n,i=0,o=-1,r=e.length;i<r;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function rt(t,e,n){var i=tt.hasOwnProperty(t.type)?nt:it;return function(o,r,a){var s,l=this.__on,u=i(e,r,a);if(l)for(var c=0,h=l.length;c<h;++c)if((s=l[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function at(t,e,n){var i=C(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function st(t,e){return function(){return at(this,t,e)}}function lt(t,e){return function(){return at(this,t,e.apply(this,arguments))}}var ut=[null];function ct(t,e){this._groups=t,this._parents=e}function ht(t){return"string"==typeof t?new ct([[document.querySelector(t)]],[document.documentElement]):new ct([[t]],ut)}function pt(t){return"string"==typeof t?new ct([document.querySelectorAll(t)],[document.documentElement]):new ct([null==t?[]:t],ut)}ct.prototype={constructor:ct,select:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a,s=e[o],l=s.length,u=i[o]=new Array(l),c=0;c<l;++c)(r=s[c])&&(a=t.call(r,r.__data__,c,s))&&("__data__"in r&&(a.__data__=r.__data__),u[c]=a);return new ct(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?_:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var a,s=e[r],l=s.length,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),o.push(a));return new ct(i,o)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,a=e[o],s=a.length,l=i[o]=[],u=0;u<s;++u)(r=a[u])&&t.call(r,r.__data__,u,a)&&l.push(r);return new ct(i,this._parents)},data:function(t,e){if(!t)return f=new Array(this.size()),c=-1,this.each((function(t){f[++c]=t})),f;var n,i=e?v:y,o=this._parents,r=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=r.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var h=o[c],p=r[c],d=p.length,f=t.call(h,h&&h.__data__,c,o),_=f.length,g=l[c]=new Array(_),m=s[c]=new Array(_);i(h,p,g,m,u[c]=new Array(d),f,e);for(var w,b,x=0,k=0;x<_;++x)if(w=g[x]){for(x>=k&&(k=x+1);!(b=m[k])&&++k<_;);w._next=b||null}}return(s=new ct(s,o))._enter=l,s._exit=u,s},enter:function(){return new ct(this._enter||this._groups.map(g),this._parents)},exit:function(){return new ct(this._exit||this._groups.map(g),this._parents)},join:function(t,e,n){var i=this.enter(),o=this,r=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(o=e(o)),null==n?r.remove():n(r),i&&o?i.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),a=new Array(i),s=0;s<r;++s)for(var l,u=e[s],c=n[s],h=u.length,p=a[s]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(p[d]=l);for(;s<i;++s)a[s]=e[s];return new ct(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],r=o.length-1,a=o[r];--r>=0;)(i=o[r])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=w);for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var a,s=n[r],l=s.length,u=o[r]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(e)}return new ct(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var a=i[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,r=e[n],a=0,s=r.length;a<s;++a)(o=r[a])&&t.call(o,o.__data__,a,r);return this},attr:function(t,e){var n=u(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?x:b:"function"==typeof e?n.local?E:S:n.local?A:k)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?T:"function"==typeof e?q:z)(t,e,null==n?"":n)):function(t,e){return t.style.getPropertyValue(e)||C(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?B:"function"==typeof e?N:F)(t,e)):this.node()[t]},classed:function(t,e){var n=P(t+"");if(arguments.length<2){for(var i=R(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?H:e?M:O)(n,e))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?D:j)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?Q:$)(t)):this.node().innerHTML},raise:function(){return this.each(X)},lower:function(){return this.each(G)},append:function(t){var e="function"==typeof t?t:p(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:p(t),i=null==e?J:"function"==typeof e?e:f(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(K)},clone:function(t){return this.select(t?Z:Y)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,o,r=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=r.length;if(!(arguments.length<2)){for(s=e?rt:ot,null==n&&(n=!1),i=0;i<a;++i)this.each(s(r[i],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(i=0,l=s[u];i<a;++i)if((o=r[i]).type===l.type&&o.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?lt:st)(t,e))}};function dt(t){var e=t.ownerDocument.createElement("button");e.type="button",e.className="upload",e.setAttribute("title","Upload a file from your computer"),e.innerHTML="⬆︎",t.insertAdjacentElement("afterend",e),e.onclick=ft}function ft(){var t=this.previousSibling;Flourish.uploadImage({name:t.getAttribute("data-property"),accept:t.getAttribute("accept")})}var _t,gt,mt,yt,vt,wt={show_title:{type:"checkbox",name:"Show title"},show_subtitle:{type:"checkbox",name:"Show subtitle"},show_text:{type:"checkbox",name:"Show text"},show_media:{type:"checkbox",name:"Show media"},background_color:{type:"color",name:"Background color",show_if:["slide_layout",["text-top","text-bottom","text-left","text-right"]],width:"half"},slide_margin:{type:"string",name:"Slide margin",width:"half"},slide_layout:{type:"button_group",name:"Layout",options:[{id:"text-top",name:"icon::icon_text-top.png"},{id:"text-bottom",name:"icon::icon_text-bottom.png"},{id:"text-left",name:"icon::icon_text-left.png"},{id:"text-right",name:"icon::icon_text-right.png"},{id:"text-overlay",name:"icon::icon_text-overlay.png"}]},height_mode:{type:"button_group",name:"Height mode",options:[{id:"auto",name:"Auto"},{id:"aspect_ratio",name:"Aspect Ratio"}]},height_ratio:{type:"number",name:"Aspect ratio",width:"half",show_if:["height_mode","aspect_ratio"]},media_type:{type:"button_group",name:"Media type",options:[{id:"video",name:"Video"},{id:"image",name:"Image"}]},video_url:{type:"url",name:"Video URL",show_if:["media_type","video"]},photo_url:{type:"url",name:"Photo URL",show_if:["media_type","image"]},photo_size:{type:"dropdown",name:"Image size",show_if:["media_type","image"],options:[{id:"auto",name:"Original"},{id:"cover",name:"Fill"},{id:"contain",name:"Fit"},{id:"100% 100%",name:"Stretch"}]},video_autoplay:{type:"button_group",name:"Autoplay video",show_if:["media_type","video"],options:[{id:!0,name:"autoplay (muted)"},{id:!1,name:"no autoplay"}]},video_controls:{type:"button_group",name:"Video controls",show_if:["media_type","video"],options:[{id:!0,name:"On"},{id:!1,name:"Off"}]},video_size:{type:"dropdown",name:"Video size",show_if:["media_type","video"],options:[{id:"cover",name:"Fill"},{id:"width",name:"Fit width"},{id:"height",name:"Fit height"}]},text_background_color:{type:"color",name:"Background color",show_if:["slide_layout","text-overlay"]},text_background_opacity:{type:"number",name:"Background opacity",show_if:["slide_layout","text-overlay"]},text_background_size:{type:"dropdown",name:"Background size",show_if:["slide_layout","text-overlay"],options:[{id:"full",name:"Whole slide"},{id:"text",name:"Text"}]},text_color:{type:"color",name:"Text color",width:"half"},text_align:{type:"button_group",name:"Text align",options:[{id:"left",name:"icon::icon_align-left.svg"},{id:"center",name:"icon::icon_align-center.svg"},{id:"right",name:"icon::icon_align-right.svg"}]},photo_position:{type:"keypad",name:"Image position",show_if:["media_type","image"]},text_position:{type:"keypad",name:"Text position",width:"half"}},bt=!1;function xt(){ht("#settings-panel").classed("visible",!1),ht(".settings-btn.selected").classed("selected",!1),gt=null}function kt(){gt=ht(this).attr("data-el"),_t.classed("visible",!0),ht(this).classed("selected",!0),_t.style("top",0);var t,e=et.clientX>window.innerWidth/2?"right":"left",n="right"==e?"left":"right";_t.style(n,"auto"),"left"==e?_t.style("left",this.getBoundingClientRect().left+this.getBoundingClientRect().width+10+"px"):_t.style("right",window.innerWidth-this.getBoundingClientRect().left+10+"px"),At(this),t=this.getBoundingClientRect().top+_t.node().getBoundingClientRect().height>ht(".slide-container").node().getBoundingClientRect().height?window.innerHeight-_t.node().getBoundingClientRect().height-10:this.getBoundingClientRect().y,_t.style("top",t+"px")}function At(t){_t.select("#settings-foreground").html("");var n=ht(t).attr("data-settings").split(","),i=_t.select("#settings-foreground").selectAll(".setting-container").data(n).enter().append("div").attr("class",(function(t){var e="setting-container type-"+wt[t].type;return wt[t].width&&(e+=" width-"+wt[t].width),e}));i.each((function(t){if(wt[t]){if(wt[t].show_if)if("object"==typeof wt[t].show_if[1]){var n=!1;if(wt[t].show_if[1].forEach((function(i){e[wt[t].show_if[0]]==i&&(n=!0)})),!n)return!1}else if(e[wt[t].show_if[0]]!==wt[t].show_if[1])return;if("checkbox"!==wt[t].type&&ht(this).append("p").text(wt[t].name).attr("class","label-title"),"dropdown"==wt[t].type){var i=ht(this).append("select");i.selectAll("option").data(wt[t].options).enter().append("option").attr("value",(function(t){return t.id})).attr("selected",(function(n){return n.id==e[t]?"selected":null})).text((function(t){return t.name})),i.on("change",(function(t){e[t]=et.target.value,Ft(wt[t].type)}))}else if("button_group"==wt[t].type){var o=ht(this).append("div").attr("class","button-group");o.selectAll("button").data(wt[t].options).enter().append("button").attr("data-value",(function(t){return t.id})).classed("selected",(function(n){return n.id===e[t]})).style("width",100/wt[t].options.length+"%").html((function(t){return t.name.indexOf("icon::")>-1?(e=t.name,n=e.replace("icon::",""),"<img src='"+Flourish.static_prefix+"/"+n+"' />"):t.name;var e,n})),o.selectAll("button").on("click",(function(){var n=this.getAttribute("data-value");"false"==n&&(n=!1),"true"==n&&(n=!0),e[t]=n,Ft(wt[t].type)}))}else if("keypad"==wt[t].type){var r=ht(this).append("div").attr("class","keypad"),a=["top-left","top-center","top-right","center-left","center-center","center-right","bottom-left","bottom-center","bottom-right"].filter((function(n){return"text-overlay"==e.slide_layout||"photo_position"==t||("text-top"==e.slide_layout||"text-bottom"==e.slide_layout?n.split("-")[0]==e[t+"_v"]:"text-left"==e.slide_layout||"text-right"==e.slide_layout?n.split("-")[1]==e[t+"_h"]:void 0)}));r.classed("vertical","text_position"==t&&("text-left"==e.slide_layout||"text-right"==e.slide_layout));var s=r.selectAll(".position").data(a).enter().append("p").attr("class",(function(t){return"position "+t})).classed("selected",(function(n){return e[t]==n}));s.append("input").attr("type","radio").attr("value",(function(t){return t})).attr("name",wt[t].name),s.append("label"),s.on("click",(function(){e[t]=ht(this).select("input").node().value,e[t+"_v"]=e[t].split("-")[0],e[t+"_h"]=e[t].split("-")[1],Ft(wt[t].type)}))}else ht(this).append("input").attr("type",(function(){return wt[t].type})).attr("value",(function(){return e[t]})).attr("checked",(function(){return"checkbox"!==wt[t].type?null:e[t]?"checked":null})).attr("data-property",(function(){return t})).on("change",(function(){"checkbox"==wt[t].type?e[t]=!e[t]:e[t]=et.target.value,Ft(wt[t].type)}))}})),i.each((function(t){wt[t]&&"checkbox"==wt[t].type&&ht(this).append("label").text(wt[t].name)})),function(){for(var t=document.querySelectorAll("input[type=url]"),e=0;e<t.length;e++)dt(t[e])}()}function St(t){var e,n,i;ht(".settings-btn.selected").node()&&"color"!=t&&At(ht(".settings-btn.selected").node()),pt(".settings-btn").remove(),e=ht(".slide-container[data-status='new']"),n=e.select("#slide-media"),i=e.select("#slide-content-foreground").append("div").attr("class","btn-container"),e.append("button").attr("data-el","main").attr("class","settings-btn icon-columns").attr("data-settings","slide_layout,height_mode,height_ratio,slide_margin,background_color"),n.append("button").attr("data-el","media").attr("class","settings-btn icon-image").attr("data-settings","show_media,media_type,video_url,photo_url,photo_size,photo_position,video_size,video_autoplay,video_controls"),i.append("button").attr("data-el","content").attr("class","settings-btn icon-pen").attr("data-settings","text_background_color,text_background_size,text_background_opacity,text_align,text_color,text_position"),pt(".settings-btn").on("click",kt).classed("selected",(function(){return ht(this).attr("data-el")==gt}))}function Et(){(_t=ht("#wrapper").append("div").attr("id","settings-panel")).append("div").attr("id","settings-background"),_t.append("div").attr("id","settings-foreground"),ht("#settings-background").on("click",xt)}function Ct(t){mt?bt?function(){var n=ht(t).selectAll(".no-edit");if(0===n.size())return;n.each((function(){var t=new Quill(this,{modules:{toolbar:[["bold","italic","underline"],["link"]],keyboard:{bindings:{tab:{key:9,handler:function(){return!0}}}}},placeholder:"",theme:"bubble"});Quill.import("formats/link").sanitize=function(t){return/^https?:\/\//.test(t)?t:"https://"+t},t.container.classList.remove("no-edit"),t.on("text-change",(function(){var n=t.container.getAttribute("data-content");e[n]=t.container.firstChild.innerHTML,Nt()})),ht(this).append("span").attr("class","text-toggle").on("click",(function(){var t=this.parentElement.getAttribute("data-content");e["show_"+t]=!e["show_"+t],Ft()}))}))}():mt.onload=function(){bt=!0,Ct(t)}:((mt=document.createElement("script")).src=Flourish.static_prefix+"/quill.min.js",mt.id="Quill-script",document.body.appendChild(mt),mt.onload=function(){bt=!0,Ct(t)})}function Tt(){vt!=e.layout.body_font.name&&(yt||((yt=document.createElement("link")).setAttribute("rel","stylesheet"),yt.id="layout-font",document.head.appendChild(yt)),yt.setAttribute("href",e.layout.body_font.url),document.body.style.fontFamily=e.layout.body_font.name||"Canva Sans Variable",vt=e.layout.body_font.name)}var zt,qt=[],Bt=document.querySelector("#wrapper");function Ft(t){if(Tt(),qt.length>1){var n=Bt.querySelector("[data-status='remove']");n.parentElement.removeChild(n),qt.shift()}qt.length>0&&(Bt.querySelector("div[data-status='new']").dataset.status="remove",qt[0].stopMedia());var i=new a;qt.push(i);var o,r,s,l,u,c=i.render();Bt.appendChild(c),o=0,r=500,s=null,l=Bt.querySelector("div[data-status='new']"),u=function(t){s||(s=t);var e=t-s;o=e/r,l.style.opacity=o,e<r&&window.requestAnimationFrame(u)},window.requestAnimationFrame(u),e.editable&&(St(t),Ct(c)),Nt()}function Nt(){"aspect_ratio"==e.height_mode?Flourish.setHeight(1*window.innerWidth/e.height_ratio):Flourish.setHeight(null);var t=Bt.querySelector(".slide-container[data-status='new']"),n=t.querySelector("#slide-content"),i=window.getComputedStyle(n),o=n.querySelector("#slide-content-foreground"),r=function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return t>999?650:t>599?575:400}(),a=o.getBoundingClientRect().height,s=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10),l=1,u=0;if("text-top"!=e.slide_layout&&"text-bottom"!=e.slide_layout||(u=1-(l=e.show_media?.5:1)),a>r*l)if(Flourish.fixed_height||"aspect_ratio"==e.height_mode)t.style.overflow="auto";else{var c=r*u+a+s;Flourish.setHeight(c)}else Flourish.fixed_height||"aspect_ratio"==e.height_mode?t.style.overflow="":Flourish.setHeight(null)}return t.data={},t.draw=function(){e.editable&&(document.body.className="editor-view",Et()),Tt(),Ft(),document.fonts&&document.fonts.addEventListener("loadingdone",(function(t){window.template.update()})),window.onresize=function(){window.innerWidth!=zt&&(Nt(),zt=window.innerWidth)}},t.state=e,t.update=Ft,t}({});
//# sourceMappingURL=template.js.map
</script><script src="./embedded.js"></script><script>
window.addEventListener("message", function(event) {

	var a = document.createElement("a");
	a.href = event.origin;
	var origin_okay = (a.hostname == window.location.hostname)
		|| window.location.hostname === "localhost"
		|| (a.hostname.match(/\.flourish\.local$/) && window.location.hostname.match(/\.flourish\.local$/))
		|| (a.hostname.match(/\.flourish\.net$/) && window.location.hostname.match(/\.flourish\.net$/))
		|| (a.hostname.match(/\.flourish\.rocks$/) && window.location.hostname.match(/\.flourish\.rocks$/))
		|| (a.hostname.match(/\.flourish-internal\.com$/) && window.location.hostname.match(/\.flourish-internal\.com$/))
		|| (a.hostname.match(/\.flourish\.studio$/) && window.location.hostname.match(/\.flourish\.studio$/))
		|| (a.hostname == "app.flourish.studio" && window.location.hostname == "flourish-user-templates.com")
		|| (a.hostname == "app.flourish.studio" && window.location.hostname == "flourish-user-preview.com")
		|| (a.hostname == "flourish-user-preview.com" && window.location.hostname == "flourish-user-templates.com")
		|| (
			(a.hostname == "public.flourish.studio" && window.location.hostname == "flo.uri.sh")
			|| (a.hostname == "public.flourish.rocks" && window.location.hostname == "staging-flo.uri.sh")
			|| (a.hostname == "public.dev.flourish.rocks" && window.location.hostname == "dev-flo.uri.sh")
		);

	if (!origin_okay) return;

	var message = event.data;
	var port = event.ports[0];
	if (!port || typeof message !== "object" || message.sender !== "Flourish") return;
	var result = null;
	function assign(target, source) {
		for (var k in source) {
			if (Object.prototype.hasOwnProperty.call(source, k)) target[k] = source[k];
		}
	}
	function deepAssign(target, source, is_destructive) {
		for (var k in source) {
			if (!Object.prototype.hasOwnProperty.call(source, k)) continue;
			if (
				typeof target[k] === "object" && target[k] != null && !Array.isArray(target[k])
				&& typeof source[k] === "object" && source[k] != null && !Array.isArray(source[k])
			) {
				deepAssign(target[k], source[k], is_destructive);
			}
			else target[k] = source[k];
		}
		if (is_destructive) {
			for (var k in target) {
				if (Object.prototype.hasOwnProperty.call(target, k) && !Object.prototype.hasOwnProperty.call(source, k)) delete target[k];
			}
		}
	}
	try {
		var i, a;
		switch(message.method) {
			case "getState":
			result = window.template.state;
			if (message.argument) for (a = message.argument.split("."), i = 0; i < a.length; i++) {
				result = result[a[i]];
			}
			break;

			case "setState":
			deepAssign(window.template.state, message.argument);
			break;

			case "hasData":
			result = !!window.template.data;
			break;

			case "setData":
			assign(window.template.data, message.argument);
			break;

			case "getData":
			result = window.template.data;
			break;

			case "draw":
			window.template.draw();
			break;

			case "update":
			window.template.update();
			break;

			case "snapshot":
			result = window.snapshot(message.argument, port);
			break;

			case "setFixedHeight":
			if (window.Flourish) {
				window.Flourish.fixed_height = message.argument != null;
				window.Flourish.__container_height = message.argument;
				if (window.Flourish.checkHeight) window.Flourish.checkHeight();
			}
			break;

			case "sync":
			var spec = message.argument;
			if (spec.data) {
				assign(window.template.data, spec.data);
			}
			if (spec.state) {
				deepAssign(window.template.state, spec.state, spec.overwrite_state);
			}
			// only allow draw or update, not both
			if (spec.draw) {
				window.template.draw();
			}
			else if (spec.update) {
				window.template.update();
			}
			result = "success";
			break;
		}

		port.postMessage({result: result});
	}
	catch (e) {
		port.postMessage({error: e.message});
		throw e;
	}
}, false);
</script></body></html>